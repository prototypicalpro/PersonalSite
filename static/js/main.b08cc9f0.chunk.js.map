{"version":3,"sources":["img/image.png","img/proto.png","serviceWorker.ts","Style.tsx","Fluid/FluidShaders.ts","Fluid/HSVTools.ts","Fluid/FluidRender.ts","useInsideViewport.ts","Fluid/FluidDraw.ts","FluidGL.tsx","img/web.svg","img/embedded.svg","img/cloud.svg","Theme.ts","MainPage.tsx","index.tsx","img/react_logo.svg"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","GlobalStyle","createGlobalStyle","_templateObject","ContentContainer","styledTS","styled","div","_templateObject2","props","theme","screen","top_bot_pad","side_pad","content_width","color","light_background","height","PerfectCenter","_templateObject3","ResumeText","_templateObject4","font","type","content","size","xlarge","_templateObject5","large","Mark","mark","_templateObject6","logo_background","BodyElem","_templateObject7","x","css","_templateObject8","y","spany","_templateObject9","_templateObject10","spanx","_templateObject11","LogoElement","_templateObject12","logo","url","imgname","TextElement","_templateObject13","text_align","align","HeaderFooterGrid","_templateObject14","header_footer","BodyGrid","_templateObject15","col_gap","col_count","_templateObject16","col_min","col_max","MaskImage","_templateObject17","image","SVGCSS","_templateObject18","compileShader","gl","source","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","getShaders","baseVertexShader","VERTEX_SHADER","clearShader","FRAGMENT_SHADER","colorShader","backgroundShader","displayShader","displayShadingShader","splatShader","advectionManualFilteringShader","advectionShader","divergenceShader","curlShader","vorticityShader","pressureShader","gradientSubtractShader","HSVTools","c","r","g","b","i","f","q","t","h","s","v","Math","floor","HSVtoRGB","random","GLProgram","vertexShader","fragmentShader","Object","classCallCheck","this","uniforms","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","uniformCount","ACTIVE_UNIFORMS","uniformName","getActiveUniform","name","getUniformLocation","useProgram","FluidRender","canvas","config","_this","ext","clearProgram","colorProgram","backgroundProgram","displayProgram","displayShadingProgram","splatProgram","advectionProgram","divergenceProgram","curlProgram","vorticityProgram","pressureProgram","gradientSubtractProgram","simWidth","simHeight","dyeWidth","dyeHeight","density","velocity","divergence","curl","pressure","splatVectorStates","paused","blit","_FluidRender$getWebGL","getWebGLContext","test","navigator","userAgent","supportLinearFiltering","SHADING","_getShaders","bindBuffer","ARRAY_BUFFER","createBuffer","bufferData","Float32Array","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","Uint16Array","vertexAttribPointer","FLOAT","enableVertexAttribArray","destination","bindFramebuffer","FRAMEBUFFER","drawElements","TRIANGLES","UNSIGNED_SHORT","initFrameBuffers","assign","DEFAULT_CONF","simRes","getResolution","SIM_RESOLUTION","dyeRes","DYE_RESOLUTION","width","texType","halfFloatTexType","rgba","formatRGBA","rg","formatRG","formatR","filtering","LINEAR","NEAREST","createDoubleFBO","internalFormat","format","resizeDoubleFBO","createFBO","resolution","aspectRatio","drawingBufferWidth","drawingBufferHeight","max","round","min","w","param","_this2","activeTexture","TEXTURE0","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","fbo","createFramebuffer","framebufferTexture2D","COLOR_ATTACHMENT0","viewport","clear","COLOR_BUFFER_BIT","attach","id","fbo1","fbo2","read","value","write","swap","temp","target","newFBO","bind","uniform1i","uTexture","uniform1f","resizeFBO","dt","disable","BLEND","uniform2f","texelSize","uVelocity","uCurl","CURL","PRESSURE_DISSIPATION","uDivergence","PRESSURE_ITERATIONS","uPressure","dyeTexelSize","velocityId","uSource","dissipation","VELOCITY_DISSIPATION","DENSITY_DISSIPATION","TRANSPARENT","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","enable","bc","BACK_COLOR","uniform4f","clientWidth","clientHeight","dx","dy","radius","uTarget","point","uniform3f","SPLAT_RADIUS","amount","generateColor","splat","vector","push","_this3","filter","next_splat","pos","vel","step","render","pause","halfFloat","params","alpha","depth","stencil","antialias","preserveDrawingBuffer","getContext","isWebGL2","getExtension","clearColor","HALF_FLOAT","HALF_FLOAT_OES","getSupportedFormat","RGBA16F","RGBA","RG16F","RG","R16F","RED","console","log","concat","supportRenderTextureFormat","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","COLORFUL","getIsInside","elem","rect","getBoundingClientRect","top","innerHeight","bottom","useInsideViewport","element","insidecallback","_React$useState","React","_React$useState2","slicedToArray","isInside","setIsInside","insideCallbackRef","useEventListener","current","undefined","SplatVector","direction","magnitude","position","speed","splat_density","step_size","num_steps","cur_step","DEFUALT_SIZE","cos","PI","sin","dist","DEFAULT_SPEED","DEFUALT_SPAT_DENSITY","ret","FluidGL_templateObject","FluidGL","_ref","_ref$className","className","_ref$canvaswidth","canvaswidth","_ref$canvasheight","canvasheight","canvas_ref","fluid_ref","animation_ref","frame_count","last_angle","last_hue","animationCallback","update","next_angle","X_MID","Y_MID","abs","next_hue","rad","addVector","requestAnimationFrame","getDefaultConfig","cancelAnimationFrame","react","FluidGL_PerfectCenter","ref","_extends","arguments","length","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","react_default","a","createElement","data-name","d","web_SvgWeb","svgRef","viewBox","ForwardRef","forwardRef","embedded_extends","embedded_objectWithoutProperties","embedded_objectWithoutPropertiesLoose","embedded_ref2","transform","embedded_SvgEmbedded","embedded_ForwardRef","cloud_extends","cloud_objectWithoutProperties","cloud_objectWithoutPropertiesLoose","cloud_ref2","cloud_SvgCloud","cloud_ForwardRef","main_theme","dark_background","logo_text","xlarge_num","large_num","medium","small","wordmark","main","ReactLogo","stock","StockImage","svg","cloud","CloudLogo","embedded","EmbedLogo","web","WebLogo","social","MainPage","innerWidth","dimension","setDimension","styled_components_browser_esm","src_FluidGL","protoMask","style","zIndex","as","fill","strokeWidth","title","toString","backgroundImage","backgroundPosition","backgroundSize","backgroundColor","ReactDOM","src_MainPage","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b08cc9f0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/image.f3f731a5.png\";","module.exports = __webpack_public_path__ + \"static/media/proto.433988a9.png\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/**\r\n * This file contains all the CSS components for my one-page site.\r\n * This will eventually be converted to static CSS as styled-components seems\r\n * to garner me less benifit that I had hoped.\r\n */\r\n\r\nimport * as React from \"react\";\r\nimport styled, { css, createGlobalStyle, ThemeContext } from \"styled-components\";\r\nimport styledTS from \"styled-components-ts\";\r\nimport main_theme from \"./Theme\";\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\nbody {\r\n  margin: 0;\r\n}\r\n`;\r\n\r\nexport const ContentContainer = styledTS<{ height: string, color: string, theme: typeof main_theme }>(styled.div)`\r\n    display: grid;\r\n    grid-template:\r\n        [top_edge] \". . .\" ${ props => props.theme.screen.top_bot_pad }\r\n        [top_content] \". content .\" auto\r\n        [bot_content] \". . .\" ${ props => props.theme.screen.top_bot_pad } [bot_edge]\r\n        / [left_edge] minmax(${ props => props.theme.screen.side_pad }, 1fr)\r\n        [left_content] minmax(auto, ${ props => props.theme.screen.content_width })\r\n        [right_content] minmax(${ props => props.theme.screen.side_pad }, 1fr) [right_edge];\r\n\r\n    width: 100%;\r\n    background-color: ${ props => props.color ? props.theme.color[props.color] : props.theme.color.light_background };\r\n\r\n    & > .content {\r\n        grid-area: content;\r\n        height: ${ props => props.height };\r\n    }\r\n\r\n    & > .full {\r\n        grid-row: top_edge / bot_edge;\r\n        grid-column: left_edge / right_edge;\r\n    }\r\n`;\r\n\r\nexport const PerfectCenter = styledTS<{ theme: typeof main_theme }>(styled.div)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nexport const MainText = styledTS<{ theme: typeof main_theme }>(styled.div)`\r\n    font-family: ${ props => props.theme.font.type.content };\r\n    font-weight: bold;\r\n    font-size: ${ props => props.theme.font.size.xlarge };\r\n    color: #EFEFEF;\r\n    z-index: 999;\r\n`;\r\n\r\nexport const ResumeText = styledTS<{ theme: typeof main_theme }>(styled.div)`\r\n    font-family: ${ props => props.theme.font.type.content };\r\n    font-weight: 100;\r\n    font-size: ${ props => props.theme.font.size.large };\r\n    color: ${ props => props.theme.font.color.content };\r\n    line-height: 7.6vh;\r\n    text-align: left;\r\n    max-width: 22em;\r\n`;\r\n\r\nexport const Mark = styledTS<{ theme: typeof main_theme }>(styled.mark)`\r\n    background-color: ${ props => props.theme.color.logo_background };\r\n    color: ${ props => props.theme.font.color.content };\r\n    font-weight: bold;\r\n    padding: 0 0.15em 0 0.15em;\r\n`;\r\n\r\nexport const BodyElem = styledTS<{ theme: typeof main_theme, x?: number, y?: number, spanx?: number, spany?: number }>(styled.div)`\r\n    ${ props => props.x ? css`grid-row: contentY ${ props => props.y } / span ${ props => props.spany ? props.spany : 1 };` : css`` }\r\n    ${ props => props.y ? css`grid-column: contentX ${ props => props.x } / span ${ props => props.spanx ? props.spanx : 1 };` : css``}\r\n`;\r\n\r\nexport const LogoElement = styledTS<{ imgname: string, size: string, theme: typeof main_theme }>(styled(BodyElem))`\r\n    max-width: ${ props => props.theme.logo.size[props.size] };\r\n    height: ${ props => props.theme.logo.size[props.size] };\r\n    background-image: url(${ props => props.theme.logo.url[props.imgname] });\r\n    // background-color: ${ props => props.theme.color.logo_background };\r\n    background-position: center;\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    align-self: center;\r\n`;\r\n\r\nexport const TextElement = styledTS<{ size: string, type: string, align?: string, text_align?: string, theme: typeof main_theme }>(styled(BodyElem))`\r\n    font-family: ${ props => props.theme.font.type[props.type] };\r\n    font-size: ${ props => props.theme.font.size[props.size] };\r\n    color: ${ props => props.theme.font.color[props.type] };\r\n    text-align: ${ props => props.text_align ? props.text_align : \"center\" };\r\n    align-self: ${ props => props.align ? props.align : \"unset\" };\r\n    font-weight: 300;\r\n    white-space: nowrap;\r\n`;\r\n\r\nexport const HeaderFooterGrid = styledTS<{ theme: typeof main_theme }>(styled(BodyElem))`\r\n    display: grid;\r\n    height: ${ props => props.theme.screen.header_footer };\r\n    grid-template-rows: [contentY] 1fr [contentY] max-content [contentY] 1fr [contentY];\r\n    grid-template-columns: [contentX] min-content [contentX]\r\n        repeat(3, min-content [contentX]);\r\n    grid-column-gap: 50px;\r\n    align-items: center;\r\n`;\r\n\r\nexport const BodyGrid = styledTS<{ theme: typeof main_theme, col_count: number, col_gap: number, col_max: string, col_min: string }>(styled(BodyElem))`\r\n    display: grid;\r\n    grid-template-rows: [contentY] repeat(7, 1fr [contentY]) 1fr [contentY];\r\n    grid-template-columns:\r\n        [contentX] 1fr [contentX]\r\n        minmax(0, ${ props => props.col_gap / 2 }px)\r\n        ${props => props.col_count > 1 && css`\r\n            repeat(${ props => props.col_count - 1 },\r\n            [contentX] minmax(${ props => props.col_min }, ${ props => props.col_max })\r\n            [contentX] minmax(0, ${ props => props.col_gap }px))\r\n        `}\r\n        [contentX] minmax(${ props => props.col_min }, ${ props => props.col_max })\r\n        [contentX] minmax(0, ${ props => props.col_gap / 2 }px)\r\n        [contentX] 1fr [contentX];\r\n`;\r\n\r\nexport const MaskImage = styledTS<{ theme: typeof main_theme, image: string }>(styled.div)`\r\n    background-image: url(${ props => props.image});\r\n    background-size: cover;\r\n    background-position: center;\r\n    z-index: 99;\r\n`;\r\n\r\nexport const SVGCSS = styledTS<{ theme: typeof main_theme, image: string }>(styled(BodyElem))`\r\n    max-width: ${ props => props.theme.logo.size[props.size] };\r\n    height: ${ props => props.theme.logo.size[props.size] };\r\n    align-self: center;\r\n`;\r\n\r\nexport const SVGLogo: React.FunctionComponent<{ imgname: string }> = ({ imgname }) => {\r\n    const themeCtx: typeof main_theme = React.useContext(ThemeContext);\r\n\r\n    return (\r\n        <SVGCSS as={themeCtx.logo.svg[imgname]} fill={themeCtx.color.logo_background}></SVGCSS>\r\n    );\r\n};","\r\nfunction compileShader (gl: WebGL2RenderingContext, type: number, source: string): WebGLShader {\r\n    const shader = gl.createShader(type) as WebGLShader;\r\n    gl.shaderSource(shader, source);\r\n    gl.compileShader(shader);\r\n\r\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\r\n        throw gl.getShaderInfoLog(shader);\r\n\r\n    return shader;\r\n}\r\n\r\nfunction getShaders(gl: WebGL2RenderingContext) {\r\n    /* compile a buttload of shaders */\r\n    const baseVertexShader = compileShader(gl, gl.VERTEX_SHADER, `\r\n        precision highp float;\r\n        attribute vec2 aPosition;\r\n        varying vec2 vUv;\r\n        varying vec2 vL;\r\n        varying vec2 vR;\r\n        varying vec2 vT;\r\n        varying vec2 vB;\r\n        uniform vec2 texelSize;\r\n        void main () {\r\n            vUv = aPosition * 0.5 + 0.5;\r\n            vL = vUv - vec2(texelSize.x, 0.0);\r\n            vR = vUv + vec2(texelSize.x, 0.0);\r\n            vT = vUv + vec2(0.0, texelSize.y);\r\n            vB = vUv - vec2(0.0, texelSize.y);\r\n            gl_Position = vec4(aPosition, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    const clearShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        precision mediump sampler2D;\r\n        varying highp vec2 vUv;\r\n        uniform sampler2D uTexture;\r\n        uniform float value;\r\n        void main () {\r\n            gl_FragColor = value * texture2D(uTexture, vUv);\r\n        }\r\n    `);\r\n\r\n    const colorShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        uniform vec4 color;\r\n        void main () {\r\n            gl_FragColor = color;\r\n        }\r\n    `);\r\n\r\n    const backgroundShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        uniform sampler2D uTexture;\r\n        uniform float aspectRatio;\r\n        #define SCALE 25.0\r\n        void main () {\r\n            vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\r\n            float v = mod(uv.x + uv.y, 2.0);\r\n            v = v * 0.1 + 0.8;\r\n            gl_FragColor = vec4(vec3(v), 1.0);\r\n        }\r\n    `);\r\n\r\n    const displayShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        uniform sampler2D uTexture;\r\n        void main () {\r\n            vec3 C = texture2D(uTexture, vUv).rgb;\r\n            float a = max(C.r, max(C.g, C.b));\r\n            gl_FragColor = vec4(C, a);\r\n        }\r\n    `);\r\n\r\n    const displayShadingShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        varying vec2 vL;\r\n        varying vec2 vR;\r\n        varying vec2 vT;\r\n        varying vec2 vB;\r\n        uniform sampler2D uTexture;\r\n        uniform vec2 texelSize;\r\n        void main () {\r\n            vec3 L = texture2D(uTexture, vL).rgb;\r\n            vec3 R = texture2D(uTexture, vR).rgb;\r\n            vec3 T = texture2D(uTexture, vT).rgb;\r\n            vec3 B = texture2D(uTexture, vB).rgb;\r\n            vec3 C = texture2D(uTexture, vUv).rgb;\r\n            float dx = length(R) - length(L);\r\n            float dy = length(T) - length(B);\r\n            vec3 n = normalize(vec3(dx, dy, length(texelSize)));\r\n            vec3 l = vec3(0.0, 0.0, 1.0);\r\n            float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\r\n            C.rgb *= diffuse;\r\n            float a = max(C.r, max(C.g, C.b));\r\n            gl_FragColor = vec4(C, a);\r\n        }\r\n    `);\r\n\r\n    const splatShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        uniform sampler2D uTarget;\r\n        uniform float aspectRatio;\r\n        uniform vec3 color;\r\n        uniform vec2 point;\r\n        uniform float radius;\r\n        void main () {\r\n            vec2 p = vUv - point.xy;\r\n            p.x *= aspectRatio;\r\n            vec3 splat = exp(-dot(p, p) / radius) * color;\r\n            vec3 base = texture2D(uTarget, vUv).xyz;\r\n            gl_FragColor = vec4(base + splat, 1.0);\r\n        }\r\n    `);\r\n\r\n    const advectionManualFilteringShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        uniform sampler2D uVelocity;\r\n        uniform sampler2D uSource;\r\n        uniform vec2 texelSize;\r\n        uniform vec2 dyeTexelSize;\r\n        uniform float dt;\r\n        uniform float dissipation;\r\n        vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\r\n            vec2 st = uv / tsize - 0.5;\r\n            vec2 iuv = floor(st);\r\n            vec2 fuv = fract(st);\r\n            vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\r\n            vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\r\n            vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\r\n            vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\r\n            return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\r\n        }\r\n        void main () {\r\n            vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\r\n            gl_FragColor = dissipation * bilerp(uSource, coord, dyeTexelSize);\r\n            gl_FragColor.a = 1.0;\r\n        }\r\n    `);\r\n\r\n    const advectionShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        uniform sampler2D uVelocity;\r\n        uniform sampler2D uSource;\r\n        uniform vec2 texelSize;\r\n        uniform float dt;\r\n        uniform float dissipation;\r\n        void main () {\r\n            vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\r\n            gl_FragColor = dissipation * texture2D(uSource, coord);\r\n            gl_FragColor.a = 1.0;\r\n        }\r\n    `);\r\n\r\n    const divergenceShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        precision mediump sampler2D;\r\n        varying highp vec2 vUv;\r\n        varying highp vec2 vL;\r\n        varying highp vec2 vR;\r\n        varying highp vec2 vT;\r\n        varying highp vec2 vB;\r\n        uniform sampler2D uVelocity;\r\n        void main () {\r\n            float L = texture2D(uVelocity, vL).x;\r\n            float R = texture2D(uVelocity, vR).x;\r\n            float T = texture2D(uVelocity, vT).y;\r\n            float B = texture2D(uVelocity, vB).y;\r\n            vec2 C = texture2D(uVelocity, vUv).xy;\r\n            if (vL.x < 0.0) { L = -C.x; }\r\n            if (vR.x > 1.0) { R = -C.x; }\r\n            if (vT.y > 1.0) { T = -C.y; }\r\n            if (vB.y < 0.0) { B = -C.y; }\r\n            float div = 0.5 * (R - L + T - B);\r\n            gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    const curlShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        precision mediump sampler2D;\r\n        varying highp vec2 vUv;\r\n        varying highp vec2 vL;\r\n        varying highp vec2 vR;\r\n        varying highp vec2 vT;\r\n        varying highp vec2 vB;\r\n        uniform sampler2D uVelocity;\r\n        void main () {\r\n            float L = texture2D(uVelocity, vL).y;\r\n            float R = texture2D(uVelocity, vR).y;\r\n            float T = texture2D(uVelocity, vT).x;\r\n            float B = texture2D(uVelocity, vB).x;\r\n            float vorticity = R - L - T + B;\r\n            gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    const vorticityShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        varying vec2 vL;\r\n        varying vec2 vR;\r\n        varying vec2 vT;\r\n        varying vec2 vB;\r\n        uniform sampler2D uVelocity;\r\n        uniform sampler2D uCurl;\r\n        uniform float curl;\r\n        uniform float dt;\r\n        void main () {\r\n            float L = texture2D(uCurl, vL).x;\r\n            float R = texture2D(uCurl, vR).x;\r\n            float T = texture2D(uCurl, vT).x;\r\n            float B = texture2D(uCurl, vB).x;\r\n            float C = texture2D(uCurl, vUv).x;\r\n            vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\r\n            force /= length(force) + 0.0001;\r\n            force *= curl * C;\r\n            force.y *= -1.0;\r\n            vec2 vel = texture2D(uVelocity, vUv).xy;\r\n            gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    const pressureShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        precision mediump sampler2D;\r\n        varying highp vec2 vUv;\r\n        varying highp vec2 vL;\r\n        varying highp vec2 vR;\r\n        varying highp vec2 vT;\r\n        varying highp vec2 vB;\r\n        uniform sampler2D uPressure;\r\n        uniform sampler2D uDivergence;\r\n        vec2 boundary (vec2 uv) {\r\n            return uv;\r\n            // uncomment if you use wrap or repeat texture mode\r\n            // uv = min(max(uv, 0.0), 1.0);\r\n            // return uv;\r\n        }\r\n        void main () {\r\n            float L = texture2D(uPressure, boundary(vL)).x;\r\n            float R = texture2D(uPressure, boundary(vR)).x;\r\n            float T = texture2D(uPressure, boundary(vT)).x;\r\n            float B = texture2D(uPressure, boundary(vB)).x;\r\n            float C = texture2D(uPressure, vUv).x;\r\n            float divergence = texture2D(uDivergence, vUv).x;\r\n            float pressure = (L + R + B + T - divergence) * 0.25;\r\n            gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    const gradientSubtractShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        precision mediump sampler2D;\r\n        varying highp vec2 vUv;\r\n        varying highp vec2 vL;\r\n        varying highp vec2 vR;\r\n        varying highp vec2 vT;\r\n        varying highp vec2 vB;\r\n        uniform sampler2D uPressure;\r\n        uniform sampler2D uVelocity;\r\n        vec2 boundary (vec2 uv) {\r\n            return uv;\r\n            // uv = min(max(uv, 0.0), 1.0);\r\n            // return uv;\r\n        }\r\n        void main () {\r\n            float L = texture2D(uPressure, boundary(vL)).x;\r\n            float R = texture2D(uPressure, boundary(vR)).x;\r\n            float T = texture2D(uPressure, boundary(vT)).x;\r\n            float B = texture2D(uPressure, boundary(vB)).x;\r\n            vec2 velocity = texture2D(uVelocity, vUv).xy;\r\n            velocity.xy -= vec2(R - L, T - B);\r\n            gl_FragColor = vec4(velocity, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    return {\r\n        baseVertexShader,\r\n        clearShader,\r\n        colorShader,\r\n        backgroundShader,\r\n        displayShader,\r\n        displayShadingShader,\r\n        splatShader,\r\n        advectionShader,\r\n        advectionManualFilteringShader,\r\n        divergenceShader,\r\n        curlShader,\r\n        vorticityShader,\r\n        pressureShader,\r\n        gradientSubtractShader\r\n    };\r\n}\r\n\r\nexport default getShaders;","import HSVTypes from \"./HSVTypes\";\r\n\r\n/*eslint no-unused-expressions: \"off\"*/\r\nexport default class HSVTools {\r\n    static HSVtoRGB (c: HSVTypes.HSVColor) {\r\n        const {h, s, v} = c;\r\n        let r, g, b, i, f, p, q, t;\r\n        i = Math.floor(h * 6);\r\n        f = h * 6 - i;\r\n        p = v * (1 - s);\r\n        q = v * (1 - f * s);\r\n        t = v * (1 - (1 - f) * s);\r\n\r\n        switch (i % 6) {\r\n            case 0: r = v, g = t, b = p; break;\r\n            case 1: r = q, g = v, b = p; break;\r\n            case 2: r = p, g = v, b = t; break;\r\n            case 3: r = p, g = q, b = v; break;\r\n            case 4: r = t, g = p, b = v; break;\r\n            case 5: r = v, g = p, b = q; break;\r\n        }\r\n\r\n        return {\r\n            r,\r\n            g,\r\n            b\r\n        };\r\n    }\r\n\r\n    static generateColor (): HSVTypes.RGBColor {\r\n        let c = HSVTools.HSVtoRGB({ h: Math.random(), s: 1.0, v: 1.0 });\r\n        c.r *= 0.15;\r\n        c.g *= 0.15;\r\n        c.b *= 0.15;\r\n        return c;\r\n    }\r\n}","import getShaders from \"./FluidShaders\";\r\nimport SplatVector from \"./FluidDraw\";\r\nimport HSVTools from \"./HSVTools\";\r\n\r\n/*eslint no-unused-expressions: \"off\"*/\r\n\r\n/**\r\n * Port of stable fluid simulation using WebGL\r\n * From this project: https://github.com/PavelDoGreat/WebGL-Fluid-Simulation\r\n */\r\n\r\ninterface IGLExtentsions {\r\n    formatRGBA;\r\n    formatRG;\r\n    formatR;\r\n    halfFloatTexType;\r\n    supportLinearFiltering;\r\n}\r\n\r\nfunction isMobile (): boolean {\r\n    return /Mobi|Android/i.test(navigator.userAgent);\r\n}\r\n\r\nclass GLProgram {\r\n    uniforms: any;\r\n    program: WebGLProgram;\r\n\r\n    constructor ( gl: WebGL2RenderingContext, vertexShader: WebGLShader, fragmentShader: WebGLShader) {\r\n        this.program = gl.createProgram() as WebGLProgram;\r\n        this.uniforms = {};\r\n\r\n        gl.attachShader(this.program, vertexShader);\r\n        gl.attachShader(this.program, fragmentShader);\r\n        gl.linkProgram(this.program);\r\n\r\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS))\r\n            throw gl.getProgramInfoLog(this.program);\r\n\r\n        const uniformCount = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\r\n        for (let i = 0; i < uniformCount; i++) {\r\n            const uniformName = (gl.getActiveUniform(this.program, i) as WebGLActiveInfo).name;\r\n            this.uniforms[uniformName] = gl.getUniformLocation(this.program, uniformName);\r\n        }\r\n    }\r\n\r\n    bind (gl: WebGL2RenderingContext) {\r\n        gl.useProgram(this.program);\r\n    }\r\n}\r\n\r\nclass FluidRender {\r\n    private readonly canvas: HTMLCanvasElement;\r\n    private readonly gl: WebGL2RenderingContext;\r\n    private readonly ext: IGLExtentsions;\r\n    private readonly config;\r\n\r\n    private readonly clearProgram: GLProgram;\r\n    private readonly colorProgram: GLProgram;\r\n    private readonly backgroundProgram: GLProgram;\r\n    private readonly displayProgram: GLProgram;\r\n    private readonly displayShadingProgram: GLProgram;\r\n    private readonly splatProgram: GLProgram;\r\n    private readonly advectionProgram: GLProgram;\r\n    private readonly divergenceProgram: GLProgram;\r\n    private readonly curlProgram: GLProgram;\r\n    private readonly vorticityProgram: GLProgram;\r\n    private readonly pressureProgram: GLProgram;\r\n    private readonly gradientSubtractProgram: GLProgram;\r\n\r\n    private simWidth;\r\n    private simHeight;\r\n    private dyeWidth;\r\n    private dyeHeight;\r\n    private density;\r\n    private velocity;\r\n    private divergence;\r\n    private curl;\r\n    private pressure;\r\n\r\n    private splatVectorStates: Array<SplatVector> = [];\r\n    private paused: boolean = false;\r\n\r\n    private readonly blit: (destination: WebGLFramebuffer | null) => void;\r\n\r\n    private static readonly DEFAULT_CONF = {\r\n        SIM_RESOLUTION: 128,\r\n        DYE_RESOLUTION: 512,\r\n        DENSITY_DISSIPATION: 0.97,\r\n        VELOCITY_DISSIPATION: 0.98,\r\n        PRESSURE_DISSIPATION: 0.8,\r\n        PRESSURE_ITERATIONS: 20,\r\n        CURL: 30,\r\n        SPLAT_RADIUS: 0.5,\r\n        SHADING: true,\r\n        COLORFUL: true,\r\n        BACK_COLOR: { r: 0, g: 0, b: 0 },\r\n        TRANSPARENT: false,\r\n    };\r\n\r\n    static getDefaultConfig(): typeof FluidRender.DEFAULT_CONF {\r\n        return Object.assign({}, FluidRender.DEFAULT_CONF);\r\n    }\r\n\r\n    constructor(canvas: HTMLCanvasElement, config: typeof FluidRender.DEFAULT_CONF) {\r\n        this.canvas = canvas;\r\n        // get the GL context from the canvas, and read support information\r\n        const { gl, ext } = FluidRender.getWebGLContext(canvas);\r\n        this.gl = gl;\r\n        // set the extensions and config data\r\n        this.ext = ext;\r\n        this.config = config;\r\n        // modify the config for platform specific things\r\n        if (isMobile() || !this.ext.supportLinearFiltering)\r\n            this.config.SHADING = false;\r\n\r\n        // process the shaders\r\n        const {\r\n            baseVertexShader,\r\n            clearShader,\r\n            colorShader,\r\n            backgroundShader,\r\n            displayShader,\r\n            displayShadingShader,\r\n            splatShader,\r\n            advectionShader,\r\n            advectionManualFilteringShader,\r\n            divergenceShader,\r\n            curlShader,\r\n            vorticityShader,\r\n            pressureShader,\r\n            gradientSubtractShader\r\n        } = getShaders(this.gl);\r\n\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.gl.createBuffer());\r\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), this.gl.STATIC_DRAW);\r\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.gl.createBuffer());\r\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), this.gl.STATIC_DRAW);\r\n        this.gl.vertexAttribPointer(0, 2, this.gl.FLOAT, false, 0, 0);\r\n        this.gl.enableVertexAttribArray(0);\r\n\r\n        this.blit = (destination: WebGLFramebuffer | null) => {\r\n            this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, destination);\r\n            this.gl.drawElements(this.gl.TRIANGLES, 6, this.gl.UNSIGNED_SHORT, 0);\r\n        };\r\n\r\n        this.clearProgram               = new GLProgram(this.gl, baseVertexShader, clearShader);\r\n        this.colorProgram               = new GLProgram(this.gl, baseVertexShader, colorShader);\r\n        this.backgroundProgram          = new GLProgram(this.gl, baseVertexShader, backgroundShader);\r\n        this.displayProgram             = new GLProgram(this.gl, baseVertexShader, displayShader);\r\n        this.displayShadingProgram      = new GLProgram(this.gl, baseVertexShader, displayShadingShader);\r\n        this.splatProgram               = new GLProgram(this.gl, baseVertexShader, splatShader);\r\n        this.advectionProgram           = new GLProgram(this.gl, baseVertexShader, ext.supportLinearFiltering ? advectionShader : advectionManualFilteringShader);\r\n        this.divergenceProgram          = new GLProgram(this.gl, baseVertexShader, divergenceShader);\r\n        this.curlProgram                = new GLProgram(this.gl, baseVertexShader, curlShader);\r\n        this.vorticityProgram           = new GLProgram(this.gl, baseVertexShader, vorticityShader);\r\n        this.pressureProgram            = new GLProgram(this.gl, baseVertexShader, pressureShader);\r\n        this.gradientSubtractProgram    = new GLProgram(this.gl, baseVertexShader, gradientSubtractShader);\r\n\r\n        // init framebuffers\r\n        this.initFrameBuffers();\r\n    }\r\n\r\n    private initFrameBuffers() {\r\n        const simRes = this.getResolution(this.config.SIM_RESOLUTION);\r\n        const dyeRes = this.getResolution(this.config.DYE_RESOLUTION);\r\n\r\n        this.simWidth  = simRes.width;\r\n        this.simHeight = simRes.height;\r\n        this.dyeWidth  = dyeRes.width;\r\n        this.dyeHeight = dyeRes.height;\r\n\r\n        const texType = this.ext.halfFloatTexType;\r\n        const rgba    = this.ext.formatRGBA;\r\n        const rg      = this.ext.formatRG;\r\n        const r       = this.ext.formatR;\r\n        const filtering = this.ext.supportLinearFiltering ? this.gl.LINEAR : this.gl.NEAREST;\r\n\r\n        if (this.density == null)\r\n            this.density = this.createDoubleFBO(this.dyeWidth, this.dyeHeight, rgba.internalFormat, rgba.format, texType, filtering);\r\n        else\r\n            this.density = this.resizeDoubleFBO(this.density, this.dyeWidth, this.dyeHeight, rgba.internalFormat, rgba.format, texType, filtering);\r\n\r\n        if (this.velocity == null)\r\n            this.velocity = this.createDoubleFBO(this.simWidth, this.simHeight, rg.internalFormat, rg.format, texType, filtering);\r\n        else\r\n            this.velocity = this.resizeDoubleFBO(this.velocity, this.simWidth, this.simHeight, rg.internalFormat, rg.format, texType, filtering);\r\n\r\n        this.divergence = this.createFBO      (this.simWidth, this.simHeight, r.internalFormat, r.format, texType, this.gl.NEAREST);\r\n        this.curl       = this.createFBO      (this.simWidth, this.simHeight, r.internalFormat, r.format, texType, this.gl.NEAREST);\r\n        this.pressure   = this.createDoubleFBO(this.simWidth, this.simHeight, r.internalFormat, r.format, texType, this.gl.NEAREST);\r\n    }\r\n\r\n    private getResolution (resolution) {\r\n        let aspectRatio = this.gl.drawingBufferWidth / this.gl.drawingBufferHeight;\r\n        if (aspectRatio < 1)\r\n            aspectRatio = 1.0 / aspectRatio;\r\n\r\n        let max = Math.round(resolution * aspectRatio);\r\n        let min = Math.round(resolution);\r\n\r\n        if (this.gl.drawingBufferWidth > this.gl.drawingBufferHeight)\r\n            return { width: max, height: min };\r\n        else\r\n            return { width: min, height: max };\r\n    }\r\n\r\n    private createFBO (w: number, h: number, internalFormat: number, format: number, type: number, param: number) {\r\n        this.gl.activeTexture(this.gl.TEXTURE0);\r\n        let texture = this.gl.createTexture();\r\n        this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, param);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, param);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\r\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null);\r\n\r\n        let fbo = this.gl.createFramebuffer();\r\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, fbo);\r\n        this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, texture, 0);\r\n        this.gl.viewport(0, 0, w, h);\r\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT);\r\n\r\n        return {\r\n            texture: texture as WebGLTexture,\r\n            fbo: fbo as WebGLFramebuffer,\r\n            width: w,\r\n            height: h,\r\n            attach: (id) => {\r\n                this.gl.activeTexture(this.gl.TEXTURE0 + id);\r\n                this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\r\n                return id;\r\n            }\r\n        };\r\n    }\r\n\r\n    private createDoubleFBO (w: number, h: number, internalFormat: number, format: number, type: number, param: number) {\r\n        let fbo1 = this.createFBO(w, h, internalFormat, format, type, param);\r\n        let fbo2 = this.createFBO(w, h, internalFormat, format, type, param);\r\n\r\n        return {\r\n            get read () {\r\n                return fbo1;\r\n            },\r\n            set read (value) {\r\n                fbo1 = value;\r\n            },\r\n            get write () {\r\n                return fbo2;\r\n            },\r\n            set write (value) {\r\n                fbo2 = value;\r\n            },\r\n            swap () {\r\n                let temp = fbo1;\r\n                fbo1 = fbo2;\r\n                fbo2 = temp;\r\n            }\r\n        };\r\n    }\r\n\r\n    private resizeFBO (target, w: number, h: number, internalFormat: number, format: number, type: number, param: number) {\r\n        let newFBO = this.createFBO(w, h, internalFormat, format, type, param);\r\n        this.clearProgram.bind(this.gl);\r\n        this.gl.uniform1i(this.clearProgram.uniforms.uTexture, target.attach(0));\r\n        this.gl.uniform1f(this.clearProgram.uniforms.value, 1);\r\n        this.blit(newFBO.fbo);\r\n        return newFBO;\r\n    }\r\n\r\n    private resizeDoubleFBO (target, w: number, h: number, internalFormat: number, format: number, type: number, param: number) {\r\n        target.read = this.resizeFBO(target.read, w, h, internalFormat, format, type, param);\r\n        target.write = this.createFBO(w, h, internalFormat, format, type, param);\r\n        return target;\r\n    }\r\n\r\n    private step (dt) {\r\n        this.gl.disable(this.gl.BLEND);\r\n        this.gl.viewport(0, 0, this.simWidth, this.simHeight);\r\n\r\n        this.curlProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.curlProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        this.gl.uniform1i(this.curlProgram.uniforms.uVelocity, this.velocity.read.attach(0));\r\n        this.blit(this.curl.fbo);\r\n\r\n        this.vorticityProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.vorticityProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        this.gl.uniform1i(this.vorticityProgram.uniforms.uVelocity, this.velocity.read.attach(0));\r\n        this.gl.uniform1i(this.vorticityProgram.uniforms.uCurl, this.curl.attach(1));\r\n        this.gl.uniform1f(this.vorticityProgram.uniforms.curl, this.config.CURL);\r\n        this.gl.uniform1f(this.vorticityProgram.uniforms.dt, dt);\r\n        this.blit(this.velocity.write.fbo);\r\n        this.velocity.swap();\r\n\r\n        this.divergenceProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.divergenceProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        this.gl.uniform1i(this.divergenceProgram.uniforms.uVelocity, this.velocity.read.attach(0));\r\n        this.blit(this.divergence.fbo);\r\n\r\n        this.clearProgram.bind(this.gl);\r\n        this.gl.uniform1i(this.clearProgram.uniforms.uTexture, this.pressure.read.attach(0));\r\n        this.gl.uniform1f(this.clearProgram.uniforms.value, this.config.PRESSURE_DISSIPATION);\r\n        this.blit(this.pressure.write.fbo);\r\n        this.pressure.swap();\r\n\r\n        this.pressureProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.pressureProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        this.gl.uniform1i(this.pressureProgram.uniforms.uDivergence, this.divergence.attach(0));\r\n        for (let i = 0; i < this.config.PRESSURE_ITERATIONS; i++) {\r\n            this.gl.uniform1i(this.pressureProgram.uniforms.uPressure, this.pressure.read.attach(1));\r\n            this.blit(this.pressure.write.fbo);\r\n            this.pressure.swap();\r\n        }\r\n\r\n        this.gradientSubtractProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.gradientSubtractProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        this.gl.uniform1i(this.gradientSubtractProgram.uniforms.uPressure, this.pressure.read.attach(0));\r\n        this.gl.uniform1i(this.gradientSubtractProgram.uniforms.uVelocity, this.velocity.read.attach(1));\r\n        this.blit(this.velocity.write.fbo);\r\n        this.velocity.swap();\r\n\r\n        this.advectionProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.advectionProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        if (!this.ext.supportLinearFiltering)\r\n            this.gl.uniform2f(this.advectionProgram.uniforms.dyeTexelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        let velocityId = this.velocity.read.attach(0);\r\n        this.gl.uniform1i(this.advectionProgram.uniforms.uVelocity, velocityId);\r\n        this.gl.uniform1i(this.advectionProgram.uniforms.uSource, velocityId);\r\n        this.gl.uniform1f(this.advectionProgram.uniforms.dt, dt);\r\n        this.gl.uniform1f(this.advectionProgram.uniforms.dissipation, this.config.VELOCITY_DISSIPATION);\r\n        this.blit(this.velocity.write.fbo);\r\n        this.velocity.swap();\r\n\r\n        this.gl.viewport(0, 0, this.dyeWidth, this.dyeHeight);\r\n\r\n        if (!this.ext.supportLinearFiltering)\r\n            this.gl.uniform2f(this.advectionProgram.uniforms.dyeTexelSize, 1.0 / this.dyeWidth, 1.0 / this.dyeHeight);\r\n        this.gl.uniform1i(this.advectionProgram.uniforms.uVelocity, this.velocity.read.attach(0));\r\n        this.gl.uniform1i(this.advectionProgram.uniforms.uSource, this.density.read.attach(1));\r\n        this.gl.uniform1f(this.advectionProgram.uniforms.dissipation, this.config.DENSITY_DISSIPATION);\r\n        this.blit(this.density.write.fbo);\r\n        this.density.swap();\r\n    }\r\n\r\n    private render (target) {\r\n        if (target == null || !this.config.TRANSPARENT) {\r\n            this.gl.blendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\r\n            this.gl.enable(this.gl.BLEND);\r\n        }\r\n        else {\r\n            this.gl.disable(this.gl.BLEND);\r\n        }\r\n\r\n        let width  = target == null ? this.gl.drawingBufferWidth : this.dyeWidth;\r\n        let height = target == null ? this.gl.drawingBufferHeight : this.dyeHeight;\r\n\r\n        this.gl.viewport(0, 0, width, height);\r\n\r\n        if (!this.config.TRANSPARENT) {\r\n            this.colorProgram.bind(this.gl);\r\n            let bc = this.config.BACK_COLOR;\r\n            this.gl.uniform4f(this.colorProgram.uniforms.color, bc.r / 255, bc.g / 255, bc.b / 255, 1);\r\n            this.blit(target);\r\n        }\r\n\r\n        if (target == null && this.config.TRANSPARENT) {\r\n            this.backgroundProgram.bind(this.gl);\r\n            this.gl.uniform1f(this.backgroundProgram.uniforms.aspectRatio, this.canvas.width / this.canvas.height);\r\n            this.blit(null);\r\n        }\r\n\r\n        if (this.config.SHADING) {\r\n            let program = this.displayShadingProgram;\r\n            program.bind(this.gl);\r\n            this.gl.uniform2f(program.uniforms.texelSize, 1.0 / width, 1.0 / height);\r\n            this.gl.uniform1i(program.uniforms.uTexture, this.density.read.attach(0));\r\n        }\r\n        else {\r\n            const program = this.displayProgram;\r\n            program.bind(this.gl);\r\n            this.gl.uniform1i(program.uniforms.uTexture, this.density.read.attach(0));\r\n        }\r\n\r\n        this.blit(target);\r\n    }\r\n\r\n    private checkResizeCanvas () {\r\n        if (this.canvas.width !== this.canvas.clientWidth || this.canvas.height !== this.canvas.clientHeight) {\r\n            this.canvas.width = this.canvas.clientWidth;\r\n            this.canvas.height = this.canvas.clientHeight;\r\n            this.initFrameBuffers();\r\n        }\r\n    }\r\n\r\n    private static getWebGLContext (canvas: HTMLCanvasElement): { gl: WebGL2RenderingContext, ext: IGLExtentsions } {\r\n        const params = { alpha: true, depth: false, stencil: false, antialias: false, preserveDrawingBuffer: false };\r\n\r\n        let gl: WebGL2RenderingContext = canvas.getContext(\"webgl2\", params) as WebGL2RenderingContext;\r\n        const isWebGL2 = !!gl;\r\n        if (!isWebGL2)\r\n            gl = (canvas.getContext(\"webgl\", params) || canvas.getContext(\"experimental-webgl\", params)) as WebGL2RenderingContext;\r\n\r\n        let halfFloat;\r\n        let supportLinearFiltering;\r\n        if (isWebGL2) {\r\n            gl.getExtension(\"EXT_color_buffer_float\");\r\n            supportLinearFiltering = gl.getExtension(\"OES_texture_float_linear\");\r\n        } else {\r\n            halfFloat = gl.getExtension(\"OES_texture_half_float\");\r\n            supportLinearFiltering = gl.getExtension(\"OES_texture_half_float_linear\");\r\n        }\r\n\r\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n\r\n        const halfFloatTexType = isWebGL2 ? gl.HALF_FLOAT : halfFloat.HALF_FLOAT_OES;\r\n        let formatRGBA;\r\n        let formatRG;\r\n        let formatR;\r\n\r\n        if (isWebGL2) {\r\n            formatRGBA = FluidRender.getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, halfFloatTexType);\r\n            formatRG = FluidRender.getSupportedFormat(gl, gl.RG16F, gl.RG, halfFloatTexType);\r\n            formatR = FluidRender.getSupportedFormat(gl, gl.R16F, gl.RED, halfFloatTexType);\r\n        }\r\n        else {\r\n            formatRGBA = FluidRender.getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\r\n            formatRG = FluidRender.getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\r\n            formatR = FluidRender.getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\r\n        }\r\n\r\n        if (formatRGBA == null)\r\n            // ga('send', 'event', isWebGL2 ? 'webgl2' : 'webgl', 'not supported');\r\n            console.log(`${isWebGL2 ? \"WsbGL2\" : \"WebGL\"} not supported`);\r\n        else\r\n            // ga('send', 'event', isWebGL2 ? 'webgl2' : 'webgl', 'supported');\r\n            console.log(`${isWebGL2 ? \"WsbGL2\" : \"WebGL\"} supported`);\r\n\r\n        return {\r\n            gl,\r\n            ext: {\r\n                formatRGBA,\r\n                formatRG,\r\n                formatR,\r\n                halfFloatTexType,\r\n                supportLinearFiltering\r\n            }\r\n        };\r\n    }\r\n\r\n    private static getSupportedFormat (gl, internalFormat, format, type) {\r\n        if (!FluidRender.supportRenderTextureFormat(gl, internalFormat, format, type)) {\r\n            switch (internalFormat) {\r\n                case gl.R16F:\r\n                    return FluidRender.getSupportedFormat(gl, gl.RG16F, gl.RG, type);\r\n                case gl.RG16F:\r\n                    return FluidRender.getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, type);\r\n                default:\r\n                    return null;\r\n            }\r\n        }\r\n\r\n        return {\r\n            internalFormat,\r\n            format\r\n        };\r\n    }\r\n\r\n    private static supportRenderTextureFormat (gl: WebGL2RenderingContext, internalFormat, format, type): boolean {\r\n        let texture = gl.createTexture();\r\n        gl.bindTexture(gl.TEXTURE_2D, texture);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, 4, 4, 0, format, type, null);\r\n\r\n        let fbo = gl.createFramebuffer();\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\r\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n\r\n        const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\r\n        if (status !== gl.FRAMEBUFFER_COMPLETE)\r\n            return false;\r\n        return true;\r\n    }\r\n\r\n    splat (x: number, y: number, dx: number, dy: number, color: { r: number, g: number, b: number }, radius?: number) {\r\n        this.gl.viewport(0, 0, this.simWidth, this.simHeight);\r\n        this.splatProgram.bind(this.gl);\r\n        this.gl.uniform1i(this.splatProgram.uniforms.uTarget, this.velocity.read.attach(0));\r\n        this.gl.uniform1f(this.splatProgram.uniforms.aspectRatio, this.canvas.width / this.canvas.height);\r\n        this.gl.uniform2f(this.splatProgram.uniforms.point, x / this.canvas.width, 1.0 - y / this.canvas.height);\r\n        this.gl.uniform3f(this.splatProgram.uniforms.color, dx, -dy, 1.0);\r\n        this.gl.uniform1f(this.splatProgram.uniforms.radius, (radius || this.config.SPLAT_RADIUS) / 100.0);\r\n        this.blit(this.velocity.write.fbo);\r\n        this.velocity.swap();\r\n\r\n        this.gl.viewport(0, 0, this.dyeWidth, this.dyeHeight);\r\n        this.gl.uniform1i(this.splatProgram.uniforms.uTarget, this.density.read.attach(0));\r\n        this.gl.uniform3f(this.splatProgram.uniforms.color, color.r, color.g, color.b);\r\n        this.blit(this.density.write.fbo);\r\n        this.density.swap();\r\n    }\r\n\r\n    randomSplats (amount: number) {\r\n        for (let i = 0; i < amount; i++) {\r\n            const color = HSVTools.generateColor();\r\n            color.r *= 10.0;\r\n            color.g *= 10.0;\r\n            color.b *= 10.0;\r\n            const x = this.canvas.width * Math.random();\r\n            const y = this.canvas.height * Math.random();\r\n            const dx = 1000 * (Math.random() - 0.5);\r\n            const dy = 1000 * (Math.random() - 0.5);\r\n            this.splat(x, y, dx, dy, color);\r\n        }\r\n    }\r\n\r\n    addVector(vector: SplatVector) {\r\n        this.splatVectorStates.push(vector);\r\n    }\r\n\r\n    update(dt: number) {\r\n        if (!this.paused) {\r\n            // update animations\r\n            this.splatVectorStates = this.splatVectorStates.filter((s) => {\r\n                const next_splat = s.next_splat();\r\n                if (next_splat === null) return false;\r\n                this.splat(next_splat.pos[0], next_splat.pos[1], next_splat.vel[0], next_splat.vel[1], next_splat.color, next_splat.size);\r\n                return true;\r\n            });\r\n            // step the fluid\r\n            this.step(dt);\r\n            // render the fluid\r\n            this.render(null);\r\n        }\r\n    }\r\n\r\n    setPause(pause: boolean) {\r\n        this.paused = pause;\r\n    }\r\n}\r\n\r\nexport default FluidRender;","import * as React from \"react\";\r\nimport useEventListener from \"@use-it/event-listener\";\r\n\r\n/**\r\n * Simple hook for detecting if an element is inside the viewport or not\r\n */\r\n\r\nfunction getIsInside(elem: HTMLElement) {\r\n    const rect = elem.getBoundingClientRect();\r\n    return (rect.top >= 0 && rect.top <= window.innerHeight)\r\n                || (rect.bottom > 0 && rect.bottom <= window.innerHeight);\r\n}\r\n\r\nconst useInsideViewport: (element: React.MutableRefObject<HTMLElement | null>, insidecallback: () => (() => void) | void) => void = (element, insidecallback) => {\r\n    const [isInside, setIsInside] = React.useState<boolean | null>(null);\r\n    const insideCallbackRef = React.useRef<(() => void) | null>(null);\r\n\r\n    useEventListener(\"scroll\", () => {\r\n        if (element.current) setIsInside(getIsInside(element.current));\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        if (element.current) {\r\n            // if we haven't detected ever, do the first check and run this function again\r\n            if (isInside === null) setIsInside(getIsInside(element.current));\r\n            // else if it's inside run the callback\r\n            else if (isInside) insideCallbackRef.current = insidecallback() || null;\r\n            // else run the cleanup if it exists\r\n            else if (insideCallbackRef.current) {\r\n                insideCallbackRef.current();\r\n                insideCallbackRef.current = null;\r\n            }\r\n            // tell react to run the cleanup if this component disapears\r\n            return insideCallbackRef.current || undefined;\r\n        }\r\n    }, [isInside, insidecallback, element]);\r\n};\r\n\r\nexport default useInsideViewport;","import HSVTypes from \"./HSVTypes\";\r\n\r\nexport default class SplatVector {\r\n    private static readonly DEFAULT_SPEED = 500;\r\n    private static readonly DEFUALT_SPAT_DENSITY = 20;\r\n    private static readonly DEFUALT_SIZE = 0.5;\r\n\r\n    readonly step_size: [number, number];\r\n    readonly num_steps: number;\r\n    readonly speed: [number, number];\r\n    readonly pos: [number, number];\r\n    readonly color: HSVTypes.RGBColor;\r\n    readonly size: number;\r\n    private cur_step: number;\r\n\r\n    constructor(direction: number, magnitude: number, position: [number, number], color: HSVTypes.RGBColor, size?: number, speed?: number, splat_density?: number) {\r\n        this.pos = position;\r\n        this.color = color;\r\n        this.size = size || SplatVector.DEFUALT_SIZE;\r\n        this.cur_step = 0;\r\n        const cos = Math.cos((Math.PI / 180.0) * direction);\r\n        const sin = Math.sin((Math.PI / 180.0) * direction);\r\n        // calculate xdist and ydist from direction and magnitude\r\n        const dist = [Math.floor(magnitude * cos), Math.floor(magnitude * sin)];\r\n        // calculate speed from direction\r\n        speed = speed || SplatVector.DEFAULT_SPEED;\r\n        this.speed = [Math.floor(speed * cos), Math.floor(speed * sin)];\r\n        // calculate pixel step and number of steps from splat_density\r\n        splat_density = splat_density || SplatVector.DEFUALT_SPAT_DENSITY;\r\n        this.num_steps = magnitude / splat_density + 1;\r\n        this.step_size = [Math.floor(dist[0] / this.num_steps), Math.floor(dist[1] / this.num_steps)];\r\n    }\r\n\r\n    next_splat(): { pos: [number, number], vel: [number, number], color: { r: number, g: number, b: number }, size: number } | null {\r\n        // check if we're done\r\n        if (this.cur_step === this.num_steps) return null;\r\n        // else return the next splat place, calculated from the various deltas\r\n        const ret = {\r\n            pos: [\r\n                this.pos[0] + this.step_size[0] * this.cur_step,\r\n                this.pos[1] + this.step_size[1] * this.cur_step\r\n            ],\r\n            vel: this.speed,\r\n            color: this.color,\r\n            size: this.size,\r\n        };\r\n        this.cur_step++;\r\n        return ret as any;\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport styledTS from \"styled-components-ts\";\r\nimport FluidRender from \"./Fluid/FluidRender\";\r\nimport HSVTools from \"./Fluid/HSVTools\";\r\nimport useInsideViewport from \"./useInsideViewport\";\r\nimport SplatVector from \"./Fluid/FluidDraw\";\r\n\r\n/**\r\n * Port of stable fluid simulation using WebGL\r\n * From this project: https://github.com/PavelDoGreat/WebGL-Fluid-Simulation\r\n */\r\n\r\n/** Container to center the canvas and make sure it stays square */\r\nconst PerfectCenter = styledTS(styled.div)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst FluidGL: React.FunctionComponent<{ className?: string, canvaswidth: number, canvasheight: number }> = ({ className = \"\", canvaswidth = 600, canvasheight = 600}) => {\r\n    const canvas_ref = React.useRef<HTMLCanvasElement | null>(null);\r\n    const fluid_ref = React.useRef<FluidRender | null>(null);\r\n    const animation_ref = React.useRef<number | null>(null);\r\n    const frame_count = React.useRef<number>(1);\r\n    const last_angle = React.useRef<number | null>(null);\r\n    const last_hue = React.useRef<number | null>(null);\r\n\r\n    const animationCallback = React.useCallback(() => {\r\n        if (fluid_ref.current && canvas_ref.current) {\r\n            // time step the fluid\r\n            fluid_ref.current.update(0.008);\r\n            // update the frame counter\r\n            if (++frame_count.current === 200) {\r\n                frame_count.current = 0;\r\n            }\r\n            // every fifty frames\r\n            if (frame_count.current % 50 === 0) {\r\n                // set a bunch of useful constants\r\n                const SIZE = 0.5;\r\n                const MAGNITUDE = 300;\r\n                const APPROACH_RADIUS = 250;\r\n                const ANGLE_TOL = 30;\r\n                const APPROACH_ANGLE_TOL = 45;\r\n                const COLOR_TOL = 0.5;\r\n                const X_MID = Math.round(canvas_ref.current.width / 2);\r\n                const Y_MID = Math.round(canvas_ref.current.height / 2);\r\n                // caLculate the next splats!\r\n                let next_angle: number;\r\n                // generate a new splat vector, angle, but make sure it's not too close to the last splat vector angle\r\n                do {\r\n                    next_angle = Math.random() * 360;\r\n                } while (last_angle.current !== null && Math.abs(next_angle - last_angle.current) < ANGLE_TOL);\r\n                // generate the next hue color from moving a random amount from the last hue color\r\n                let next_hue = (last_hue.current || 0) + (Math.random() - 0.5) * COLOR_TOL;\r\n                if (next_hue > 1) next_hue -= 1;\r\n                else if (next_hue < 0) next_hue += 1;\r\n                // reset the last varibles\r\n                last_angle.current = next_angle;\r\n                last_hue.current = next_hue;\r\n                // draw the splat vector!\r\n                const rad = next_angle * (Math.PI / 180.0);\r\n                fluid_ref.current.addVector(new SplatVector(\r\n                    (next_angle + 180.0) + (Math.random() - 0.5) * APPROACH_ANGLE_TOL,\r\n                    MAGNITUDE,\r\n                    [Math.cos(rad) * APPROACH_RADIUS + X_MID, Math.sin(rad) * APPROACH_RADIUS + Y_MID],\r\n                    HSVTools.HSVtoRGB({ h: next_hue, s: 1.0, v: 1.0 }), SIZE));\r\n            }\r\n            // next animation frame\r\n            animation_ref.current = requestAnimationFrame(animationCallback);\r\n        }\r\n    }, [canvas_ref, fluid_ref, animation_ref, frame_count, last_angle, last_hue]);\r\n\r\n    // setup the fluid object and shaders, and bind it to the canvas\r\n    React.useEffect(() => {\r\n        if (canvas_ref.current) {\r\n            // get a config object for the fluid renderer\r\n            const config = FluidRender.getDefaultConfig();\r\n            config.SHADING = true;\r\n            config.DENSITY_DISSIPATION = 0.99;\r\n            config.SIM_RESOLUTION = 512;\r\n            config.DYE_RESOLUTION = 1024;\r\n            // setup the fluid renderer\r\n            fluid_ref.current = new FluidRender(canvas_ref.current, config);\r\n            console.log(\"Reconstuct!\");\r\n            // let react know we gotta clean up the fluid ref\r\n            return () => {\r\n                fluid_ref.current = null;\r\n            };\r\n        }\r\n    }, [canvas_ref, fluid_ref]);\r\n\r\n    // make sure we only are updating the fluid when we need to\r\n    useInsideViewport(canvas_ref, () => {\r\n        // start the animation\r\n        animationCallback();\r\n        // tell react we gotta cancel the the animation callback\r\n        return () => {\r\n            if (animation_ref.current) {\r\n                cancelAnimationFrame(animation_ref.current);\r\n                animation_ref.current = null;\r\n            }\r\n        };\r\n    });\r\n\r\n    return (\r\n        <PerfectCenter className={className || undefined}>\r\n            <canvas ref={canvas_ref} width={canvaswidth} height={canvasheight}></canvas>\r\n        </PerfectCenter>\r\n    );\r\n};\r\n\r\nexport default FluidGL;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  \"data-name\": \"Group\"\n}, React.createElement(\"path\", {\n  \"data-name\": \"Compound Path\",\n  d: \"M96.7,19.8a13,13,0,0,0-13-13H16.3a13,13,0,0,0-13,13V80.2a13,13,0,0,0,13,13H83.7a13,13,0,0,0,13-13Zm-80.4-7H83.7a7,7,0,0,1,7,7V31.17H9.3V19.8A7,7,0,0,1,16.3,12.8ZM83.7,87.2H16.3a7,7,0,0,1-7-7v-43H90.7v43A7,7,0,0,1,83.7,87.2Z\"\n}), React.createElement(\"path\", {\n  \"data-name\": \"Path\",\n  d: \"M18,24.32h7a3,3,0,1,0,0-6H18a3,3,0,0,0,0,6Z\"\n}), React.createElement(\"path\", {\n  \"data-name\": \"Path\",\n  d: \"M37.83,24.32h7a3,3,0,1,0,0-6h-7a3,3,0,0,0,0,6Z\"\n}), React.createElement(\"path\", {\n  \"data-name\": \"Path\",\n  d: \"M37.86,48a3,3,0,0,0-4.24.11L22.9,59.42a3,3,0,0,0,0,4.13L33.61,74.85A3,3,0,1,0,38,70.72l-8.75-9.23L38,52.29A3,3,0,0,0,37.86,48Z\"\n}), React.createElement(\"path\", {\n  \"data-name\": \"Path\",\n  d: \"M66.38,48.15A3,3,0,1,0,62,52.29l8.75,9.2L62,70.72a3,3,0,0,0,4.35,4.13L77.1,63.55a3,3,0,0,0,0-4.13Z\"\n}), React.createElement(\"path\", {\n  \"data-name\": \"Path\",\n  d: \"M55.78,42.72a3,3,0,0,0-3.75,2l-9.8,31.83A3,3,0,1,0,48,78.3l9.8-31.83A3,3,0,0,0,55.78,42.72Z\"\n}));\n\nvar SvgWeb = function SvgWeb(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    \"data-name\": \"Layer 1\",\n    viewBox: \"0 0 100 100\",\n    x: \"0px\",\n    y: \"0px\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgWeb, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/web.b252b5a2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-952.36218)\"\n}, React.createElement(\"path\", {\n  d: \"M 23.53125 4.9375 A 3.0003 3.0003 0 0 0 20.59375 8 L 20.59375 13.84375 L 17.1875 13.84375 C 15.476049 13.84375 14 15.29854 14 17 L 14 82.96875 C 14 84.67015 15.476049 86.125 17.1875 86.125 L 20.59375 86.125 L 20.59375 92 A 3.0003 3.0003 0 1 0 26.59375 92 L 26.59375 86.125 L 33.78125 86.125 L 33.78125 92 A 3.0003 3.0003 0 1 0 39.78125 92 L 39.78125 86.125 L 47 86.125 L 47 92 A 3.0003 3.0003 0 1 0 53 92 L 53 86.125 L 60.21875 86.125 L 60.21875 92 A 3.0003 3.0003 0 1 0 66.21875 92 L 66.21875 86.125 L 73.40625 86.125 L 73.40625 92 A 3.0003 3.0003 0 1 0 79.40625 92 L 79.40625 86.125 L 82.8125 86.125 C 84.523951 86.125 86 84.67015 86 82.96875 L 86 17 C 86 15.29854 84.523951 13.84375 82.8125 13.84375 L 79.40625 13.84375 L 79.40625 8 A 3.0003 3.0003 0 0 0 76.375 4.9375 A 3.0003 3.0003 0 0 0 73.40625 8 L 73.40625 13.84375 L 66.21875 13.84375 L 66.21875 8 A 3.0003 3.0003 0 0 0 63.15625 4.9375 A 3.0003 3.0003 0 0 0 60.21875 8 L 60.21875 13.84375 L 53 13.84375 L 53 8 A 3.0003 3.0003 0 0 0 49.96875 4.9375 A 3.0003 3.0003 0 0 0 47 8 L 47 13.84375 L 39.78125 13.84375 L 39.78125 8 A 3.0003 3.0003 0 0 0 36.75 4.9375 A 3.0003 3.0003 0 0 0 33.78125 8 L 33.78125 13.84375 L 26.59375 13.84375 L 26.59375 8 A 3.0003 3.0003 0 0 0 23.53125 4.9375 z M 20 19.84375 L 80 19.84375 L 80 80.125 L 20 80.125 L 20 19.84375 z M 31.65625 29.34375 C 29.989782 29.34375 28.5625 30.78117 28.5625 32.4375 L 28.5625 67.53125 C 28.5625 69.18765 29.989782 70.625 31.65625 70.625 L 68.34375 70.625 C 70.010218 70.625 71.4375 69.18765 71.4375 67.53125 L 71.4375 32.4375 C 71.4375 30.78117 70.010218 29.34375 68.34375 29.34375 L 31.65625 29.34375 z M 34.5625 35.34375 L 65.4375 35.34375 L 65.4375 64.625 L 34.5625 64.625 L 34.5625 35.34375 z \",\n  transform: \"translate(0,952.36218)\"\n}));\n\nvar SvgEmbedded = function SvgEmbedded(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 100 100\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEmbedded, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/embedded.2fee49af.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-952.36218)\"\n}, React.createElement(\"path\", {\n  d: \"M 62.1875 13 A 3.0040663 3.0040663 0 1 0 62.5 19 C 77.185964 19 89 30.75732 89 45.3125 A 3.0003 3.0003 0 1 0 95 45.3125 C 95 27.49284 80.406886 13 62.5 13 A 3.0003 3.0003 0 0 0 62.1875 13 z M 62.1875 25.75 A 3.0040663 3.0040663 0 1 0 62.5 31.75 C 70.094123 31.75 76.15625 37.80537 76.15625 45.3125 A 3.0003 3.0003 0 1 0 82.15625 45.3125 C 82.15625 34.53993 73.314093 25.75 62.5 25.75 A 3.0003 3.0003 0 0 0 62.1875 25.75 z M 53.6875 37.5625 C 48.5297 37.5625 43.926954 39.87687 40.71875 43.4375 C 38.454775 42.3801 36.023519 41.625 33.375 41.625 C 25.035267 41.625 18.082682 47.52432 16.375 55.34375 C 9.7523677 56.98245 5 63.42375 5 70.90625 C 5 79.56555 11.348519 87 19.59375 87 L 64.78125 87 C 73.026488 87 79.375 79.56555 79.375 70.90625 C 79.375 64.60005 75.976478 59.2336 70.9375 56.625 C 71.00108 56.0542 71.15625 55.5384 71.15625 54.9375 C 71.15625 45.36382 63.292843 37.5625 53.6875 37.5625 z M 53.6875 43.5625 C 60.076257 43.5625 65.15625 48.6239 65.15625 54.9375 C 65.15625 55.8092 65.029946 56.69295 64.8125 57.59375 A 3.0003 3.0003 0 0 0 66.875 61.1875 C 70.452473 62.2369 73.375 66.03725 73.375 70.90625 C 73.375 76.70165 69.389846 81 64.78125 81 L 19.59375 81 C 14.985167 81 11 76.70165 11 70.90625 C 11 65.30665 14.769491 61.17445 19.15625 60.90625 A 3.0003 3.0003 0 0 0 21.9375 58.125 C 22.391448 52.2422 27.293768 47.625 33.375 47.625 C 35.793872 47.625 38.005317 48.34765 39.84375 49.59375 A 3.0003 3.0003 0 0 0 44.03125 48.75 C 46.074668 45.63181 49.626154 43.5625 53.6875 43.5625 z \",\n  transform: \"translate(0,952.36218)\"\n}));\n\nvar SvgCloud = function SvgCloud(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 100 100\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCloud, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cloud.2f21dbfc.svg\";\nexport { ForwardRef as ReactComponent };","/**\r\n * Some constants denotiating uniform aspects of this website,\r\n * such as font size, color, etc.\r\n */\r\nimport { ReactComponent as WebLogo } from \"./img/web.svg\";\r\nimport { ReactComponent as EmbedLogo } from \"./img/embedded.svg\";\r\nimport { ReactComponent as CloudLogo } from \"./img/cloud.svg\";\r\nimport ReactLogo from \"./img/react_logo.svg\";\r\nimport StockImage from \"./img/image.png\";\r\n\r\nconst main_theme = {\r\n    color: {\r\n        // light_background: \"#ECECEC\",\r\n        // dark_background: \"#AEAEAE\",\r\n        // logo_background: \"#C4C4C4\",\r\n        light_background: \"#222831\",\r\n        dark_background: \"#393e46\",\r\n        logo_background: \"#00adb5\",\r\n        logo_text: \"#919191\",\r\n    },\r\n    font: {\r\n        size: {\r\n            xlarge: \"17vh\",\r\n            xlarge_num: Math.round(window.innerHeight * .17),\r\n            large: \"5.6vh\",\r\n            large_num: Math.round(window.innerHeight * .056),\r\n            medium: \"4.4vh\",\r\n            small: \"3vh\",\r\n        },\r\n        type: {\r\n            header_footer: \"'Open Sans', sans-serif\",\r\n            wordmark: \"'Roboto Slab', serif\",\r\n            content: \"'Roboto Slab', serif\"\r\n        },\r\n        color: {\r\n            header_footer: \"#222831\",\r\n            wordmark: \"#222831\",\r\n            content: \"#EEEEEE\",\r\n        }\r\n    },\r\n    logo: {\r\n        size: {\r\n            small: \"10vh\",\r\n            medium: \"12.5vh\",\r\n            large: \"27.5vh\",\r\n        },\r\n        url: {\r\n            main: ReactLogo,\r\n            stock: StockImage\r\n        },\r\n        svg: {\r\n            cloud: CloudLogo,\r\n            embedded: EmbedLogo,\r\n            web: WebLogo,\r\n            social: ReactLogo,\r\n        }\r\n    },\r\n    screen: {\r\n        content_width: \"1200px\",\r\n        side_pad: \"50px\",\r\n        top_bot_pad: \"15px\",\r\n        header_footer: \"12vh\",\r\n    }\r\n};\r\n\r\nexport default main_theme;","import * as React from \"react\";\nimport * as Style from \"./Style\";\nimport FluidFull from \"./FluidGL\";\nimport useEventListener from \"@use-it/event-listener\";\nimport main_theme from \"./Theme\";\nimport { ThemeProvider } from \"styled-components\";\nimport protoMask from \"./img/proto.png\";\n\n\n/**\n * My personal website!\n * This file will handle top-level structure and styles, allowing each sub-component to fill\n * its own container.\n */\n\n\n\nconst MainPage: React.FunctionComponent = () => {\n    // TODO: Set to however the size of the image is being calculated\n    const [dimension, setDimension] = React.useState<number>(Math.min(window.innerWidth, window.innerHeight * 0.8));\n    // check for window resize to update our canvas\n    useEventListener(\"resize\", () => {\n        setDimension(Math.min(window.innerWidth, window.innerHeight * 0.8));\n    });\n\n    return (\n        <ThemeProvider theme={main_theme}>\n            <div>\n                <Style.GlobalStyle />\n                <Style.ContentContainer height=\"100vh\" color=\"light_background\">\n                    <FluidFull className=\"full\" canvaswidth={dimension} canvasheight={dimension} ></FluidFull>\n                    <Style.MaskImage className=\"full\" image={protoMask}></Style.MaskImage>\n                    <div className=\"content\" style={{ zIndex: 100 }}>\n                        <Style.HeaderFooterGrid>\n                            <Style.TextElement x={1} y={2} type=\"wordmark\" size=\"small\"><b>Prototypical Pro</b></Style.TextElement>\n                            <Style.TextElement x={2} y={2} type=\"header_footer\" size=\"small\">Resume</Style.TextElement>\n                            <Style.TextElement x={3} y={2} type=\"header_footer\" size=\"small\">Github</Style.TextElement>\n                            <Style.TextElement x={4} y={2} type=\"header_footer\" size=\"small\">Contact</Style.TextElement>\n                        </Style.HeaderFooterGrid>\n                    </div>\n                </Style.ContentContainer>\n                <Style.ContentContainer height=\"60vh\" color=\"dark_background\">\n                    <Style.BodyGrid className=\"content\" col_count={3} col_gap={150} col_min={main_theme.logo.size.medium} col_max={main_theme.logo.size.large}>\n                        <Style.TextElement x={3} y={1} spanx={5} spany={2} type=\"content\" size=\"medium\" align=\"center\">My name is <Style.Mark>Noah Koontz</Style.Mark> <br></br> and I build stuff</Style.TextElement>\n                        <Style.SVGCSS x={3} y={2} spany={6} imgname=\"cloud\" size=\"large\" as={main_theme.logo.svg[\"cloud\"]} fill={main_theme.color.logo_background} strokeWidth=\"100\" title=\"Cloud\"></Style.SVGCSS>\n                        <Style.TextElement x={3} y={7} type=\"content\" size=\"medium\" align=\"end\">Cloud</Style.TextElement>\n                        <Style.SVGCSS x={5} y={2} spany={6} imgname=\"embedded\" size=\"large\" as={main_theme.logo.svg[\"embedded\"]} fill={main_theme.color.logo_background} title=\"Embedded\"></Style.SVGCSS>\n                        <Style.TextElement x={5} y={7} type=\"content\" size=\"medium\" align=\"end\">Embedded</Style.TextElement>\n                        <Style.SVGCSS x={7} y={2} spany={6} imgname=\"web\" size=\"large\" as={main_theme.logo.svg[\"web\"]} fill={main_theme.color.logo_background} title=\"Web\"></Style.SVGCSS>\n                        <Style.TextElement x={7} y={7} type=\"content\" size=\"medium\" align=\"end\">Web</Style.TextElement>\n                    </Style.BodyGrid>\n                </Style.ContentContainer>\n                <Style.ContentContainer height=\"70vh\" color=\"light_background\">\n                    <div className=\"full\">\n                    </div>\n                    <Style.BodyGrid className=\"content\"\n                        col_count={2}\n                        col_gap={110}\n                        col_min={(main_theme.font.size.large_num * 4).toString() + \"px\"}\n                        col_max={(main_theme.font.size.xlarge_num * 4).toString() + \"px\"}>\n\n                        <Style.TextElement x={3} y={3} spany={3} type=\"content\" align=\"center\" size=\"xlarge\">1212</Style.TextElement>\n                        <Style.TextElement x={3} y={6} type=\"content\" align=\"center\" size=\"medium\">Git Commits</Style.TextElement>\n                        <Style.TextElement x={5} y={3} spany={3} type=\"content\" align=\"center\" size=\"xlarge\">12123</Style.TextElement>\n                        <Style.TextElement x={5} y={6} type=\"content\" align=\"center\" size=\"medium\">Lines of Code</Style.TextElement>\n                    </Style.BodyGrid>\n                </Style.ContentContainer>\n                <Style.ContentContainer height=\"60vh\" color=\"dark_background\">\n                    <Style.PerfectCenter className=\"content\">\n                        <Style.ResumeText>\n                            I am a <Style.Mark>maker</Style.Mark> who enjoys the creative\n                            application of technology. I am a <Style.Mark>hard worker</Style.Mark> with\n                            an ability to turn ideas into\n                            reality. <Style.Mark>Resourceful</Style.Mark> and <Style.Mark>motivated</Style.Mark>,\n                            I have a track record of rapidly applying new concepts.</Style.ResumeText>\n                    </Style.PerfectCenter>\n                </Style.ContentContainer>\n                <Style.ContentContainer height=\"70vh\" color=\"light_background\">\n                <Style.BodyGrid className=\"content\" col_count={1} col_gap={0} col_min=\"110px\" col_max=\"500px\" style={{ backgroundImage: `url(${main_theme.logo.url.stock})`, backgroundPosition: \"center\", backgroundSize: \"cover\" }}>\n                    <Style.BodyGrid style={{ backgroundColor: main_theme.color.dark_background }} x={3} y={3} spany={3}\n                        col_count={4} col_gap={20} col_min={main_theme.logo.size.small} col_max={main_theme.logo.size.small}>\n\n                        <Style.TextElement x={3} y={2} spanx={7} spany={2} type=\"content\" align=\"center\" size=\"small\">Get In Touch</Style.TextElement>\n                        <Style.LogoElement x={3} y={4} spany={4} imgname=\"web\" size=\"small\"></Style.LogoElement>\n                        <Style.LogoElement x={5} y={4} spany={4} imgname=\"web\" size=\"small\"></Style.LogoElement>\n                        <Style.LogoElement x={7} y={4} spany={4} imgname=\"web\" size=\"small\"></Style.LogoElement>\n                        <Style.LogoElement x={9} y={4} spany={4} imgname=\"web\" size=\"small\"></Style.LogoElement>\n                    </Style.BodyGrid>\n                </Style.BodyGrid>\n                </Style.ContentContainer>\n                <Style.ContentContainer height={main_theme.screen.header_footer} color=\"header_footer\">\n                    <div className=\"content\">\n                        <Style.HeaderFooterGrid>\n                            <Style.LogoElement x={1} y={1} spany={3} imgname=\"main\" size=\"small\"></Style.LogoElement>\n                            <Style.TextElement x={2} y={2} type=\"header_footer\" size=\"xsmall\">2019 Noah Koontz. Web logo created by Logan, embedded and cloud logo created by counloucon, from Noun Project licenced under Creative Commons CCBY. </Style.TextElement>\n                        </Style.HeaderFooterGrid>\n                    </div>\n                </Style.ContentContainer>\n            </div>\n        </ThemeProvider>\n    );\n};\n\nexport default MainPage;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport MainPage from \"./MainPage\";\n\nReactDOM.render(<MainPage />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/react_logo.5d5d9eef.svg\";"],"sourceRoot":""}